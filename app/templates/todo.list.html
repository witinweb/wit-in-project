<h2>{{project.name}}</h2>
<div class="row">
	<div class="btn"><i class="btn fa fa-plus" ng-click="toggleAddTodoMode()" title="Add" ng-hide="addTodoMode">Todo ADD</i></div>
	<div class="btn"><i class="btn fa fa-minus" ng-click="toggleAddTodoMode()" title="Cancel" ng-show="addTodoMode">Cancel</i></div>	 
	<div ng-show="addTodoMode">
		<form name="form" ng-submit="addTodo()" role="form">
			<span>기존 카테고리 넣기</span>
			<input type="text" name="category" id="category" placeholder="New Category" ng-model="newTodo.category" />
			<input type="text" name="content" id="content" placeholder="Content" ng-model="newTodo.content" required />
			<span ng-show="form.content.$dirty && form.content.$error.required" class="error">Content is required</span>
			<input type="text" name="receiver" id="receiver" placeholder="Receiver" ng-model="newTodo.receiver" />
			<input type="text" name="due_date" id="due_date" placeholder="Due Date" ng-model="newTodo.due_date" required />
			<span ng-show="form.due_date.$dirty && form.due_date.$error.required" class="error">Due Date is required</span>

			<ul class="button-group text-center">
			    <li>
			        <button type="submit" ng-disabled="form.$invalid || dataLoading">Create</button>
			        <img ng-if="dataLoading" src="http://www.rechercheisidore.fr/img/loader.gif" width="20px" height="20px" />
			        <button type="button" ng-click="toggleAddTodoMode()">Close</button>
			    </li>
			</ul>
    </form>
	</div>
	<div ng-hide="hasTodo">There is no todo</div>
	<ul ng-repeat="category in categorys">
		<li> Category : {{category.category}}
			<hr>
			<ul ng-repeat="task in category.task_list">
				<li>Creator : {{task.creator_name}}</li>
				<li>Name : {{task.name}}</li>
				<li>Description : {{task.description}}</li>
				<li>Creator Date : {{task.insert_date}}</li>
				<li>Task id : {{task.idx}}</li>
				<li>Todo
					<hr>
				<div class="btn"><i class="btn fa fa-plus" ng-click="toggleAddTodoMode()" title="Add" ng-hide="addTodoMode">Todo ADD</i></div>
				<div class="btn"><i class="btn fa fa-minus" ng-click="toggleAddTodoMode()" title="Cancel" ng-show="addTodoMode">Cancel</i></div>	 					
                    <div ng-show="addTodoMode">
                        <form name="form" ng-submit="addTodo(task)" role="form">
                            <input type="text" name="title" id="title" placeholder="title" ng-model="newTodo.title" required />
                            <!-- <span ng-show="form.title.$dirty && form.title.$error.required" class="error">Title is required</span> -->
                            <input type="text" name="receiver_idx" id="receiver_idx" placeholder="receiver" ng-model="newTodo.receiver_idx" required />
                            <!-- <span ng-show="form.receiver.$dirty && form.receiver.$error.required" class="error">receiver is required</span> -->
                            <input type="text" name="due_date" id="due_date" placeholder="due_date" ng-model="newTodo.due_date" required />
                             <!-- <span ng-show="form.due_date.$dirty && form.due_date.$error.required" class="error">due_date is required</span> -->
                            <ul class="button-group text-center">
                                <li>
                                    <button type="submit" ng-disabled="form.$invalid || dataLoading">Create</button>
                                    <img ng-if="dataLoading" src="http://www.rechercheisidore.fr/img/loader.gif" width="20px" height="20px" />
                                    <button type="button" ng-click="toggleAddTodoMode()">Close</button>
                                </li>
                            </ul>
                        </form>
                    </div>
					<ul ng-repeat="todo in task.todo_list">
						<li>Title : {{todo.title}}</li>
						<li>Receiver : {{todo.receiver_id}}</li>
						<li>Due Date : {{todo.due_date}}</li>
						<li>Finish : {{todo.is_finish}}</li>
						<hr>
					</ul>
				</li>
				<hr>
			</ul>
		</li>
	</ul>
</div>